<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>League Table</title>
</head>
<body>
<h1>League Table</h1>
<table border="1">
    <thead>
    <tr>
        <th>Position</th>
        <th>Team Name</th>
        <th>Played</th>
        <th>Won</th>
        <th>Drawn</th>
        <th>Lost</th>
        <th>Points</th>
        <th>Goal Difference</th>
    </tr>
    </thead>
    <tbody id="table-body">
    <!-- Rows will be dynamically generated here -->
    </tbody>
</table>

<script>
    // Fetch data from the server
    fetch('/api/league-table')
        .then(response => response.json())
        .then(data => {
            // Iterate through the data using a for loop
            for (let i = 0; i < data.length; i++) {
                const team = data[i];
                const row = document.createElement('tr');

                // Create table cells for each property
                const properties = ['position', 'team_name', 'played', 'won', 'drawn', 'lost', 'points', 'goal_difference'];
                properties.forEach(prop => {
                    const cell = document.createElement('td');
                    cell.textContent = team[prop]; // Fill the cell with the respective value
                    row.appendChild(cell);
                });

                // Append the row to the table body
                document.getElementById('table-body').appendChild(row);
            }
        })
        .catch(error => {
            console.error('Error fetching league table data:', error);
        });
</script>
</body>
</html>
